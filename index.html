<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energetische Modernisierung</title>
    <link rel="stylesheet" href="style.css">
    <style>
      /* Pagebreak-Regeln f√ºr PDF */
      .pdf-pagebreak { page-break-before: always; }
      .pdf-hide { display: none !important; }
      .export-container { width: 100%; }

      /* PDF-Kopf */
      .pdf-header {
          text-align: center;
          padding: 20px 0 10px;
          border-bottom: 1px solid #ccc;
          margin-bottom: 20px;
      }
      .pdf-header img {
          height: 40px;
          margin-bottom: 10px;
      }
    </style>
</head>
<body>
    <div class="page">
        <header class="hero">
            <div class="intro">
                <div class="intro-title">
                    <img src="images/logo.png" class="intro-logo" alt="Logo">
                    <h1>Energie- & Modernisierungsrechner</h1>
                </div>
                <p>Erhalte eine fundierte Einsch√§tzung f√ºr Photovoltaik, Stromspeicher und W√§rmepumpe ‚Äì inklusive Autarkie, CO‚ÇÇ-Einsparung, Kosten, Amortisation und F√∂rderm√∂glichkeiten.</p>
                <p>Eine energetische Modernisierung ist heute wichtiger denn je. Sie hilft nicht nur, Energieverbrauch und Kosten zu reduzieren, sondern erh√∂ht auch deine Unabh√§ngigkeit von schwankenden Energiepreisen. Moderne Technologien wie Photovoltaik, Speicher und W√§rmepumpen k√∂nnen den Bedarf eines Hauses deutlich senken ‚Äî oft um mehr als die H√§lfte.</p>
                <p>Gleichzeitig leistest du einen aktiven Beitrag zum Klimaschutz: Jede Kilowattstunde, die nicht aus fossilen Quellen stammt, spart CO‚ÇÇ und macht dich langfristig energieautarker.</p>
                <p>Unser Rechner liefert dir eine erste, unverbindliche Einsch√§tzung, basierend auf deinem Geb√§ude und deinen Pl√§nen ‚Äî verst√§ndlich aufbereitet und individuell f√ºr dein Zuhause.</p>
            </div>
        </header>

        <main>
            <section class="form-card">
                <h2>Eingabedaten</h2>
                <div class="form-grid">
                <label>Haustyp
                    <select id="houseType">
                        <option value="reihenhaus">Reihenhaus</option>
                        <option value="doppelhaus">Doppelhaus</option>
                        <option value="einfamilienhaus">Einfamilienhaus freistehend</option>
                    </select>
                </label>
                <label>Wohnfl√§che (m¬≤)
                    <select id="area">
                        <option value="100">100</option>
                        <option value="110">110</option>
                        <option value="120">120</option>
                        <option value="130">130</option>
                        <option value="140">140</option>
                        <option value="150">150</option>
                        <option value="160">160</option>
                        <option value="170">170</option>
                        <option value="180">180</option>
                        <option value="190">190</option>
                        <option value="200">200</option>
                    </select>
                </label>
                <label>Personen im Haushalt
                    <select id="people">
                        <option value="1">1</option>
                        <option value="2" selected>2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                </label>
                <label>Isolierung
                    <select id="insulation">
                        <option value="gut">gut ‚Äì Neubau / gut saniert</option>
                        <option value="normal" selected>normal ‚Äì typisch 80er‚Äì2000er</option>
                        <option value="schlecht">schlecht ‚Äì 60er/70er unsaniert</option>
                    </select>
                </label>
                <label>Fu√übodenheizung
                    <select id="floorHeating">
                        <option value="Nein" selected>Nein</option>
                        <option value="Ja">Ja</option>
                    </select>
                </label>
                <label>Klimaanlage geplant
                    <select id="aircon">
                        <option value="Nein" selected>Nein</option>
                        <option value="Ja">Ja</option>
                    </select>
                </label>
                <label>Wallbox geplant
                    <select id="wallbox">
                        <option value="Nein" selected>Nein</option>
                        <option value="Ja">Ja</option>
                    </select>
                </label>
                </div>
                <div class="optional-box">
                    <h3>Angaben optional zur Ermittlung von F√∂rderprogrammen</h3>
                    <div class="form-grid">
                        <label>Bundesland
                            <select id="bundesland">
                                <option value="">bitte w√§hlen</option>
                                <option value="BW">Baden-W√ºrttemberg</option>
                                <option value="BY">Bayern</option>
                                <option value="BE">Berlin</option>
                                <option value="BB">Brandenburg</option>
                                <option value="HB">Bremen</option>
                                <option value="HH">Hamburg</option>
                                <option value="HE">Hessen</option>
                                <option value="MV">Mecklenburg-Vorpommern</option>
                                <option value="NI">Niedersachsen</option>
                                <option value="NW">Nordrhein-Westfalen</option>
                                <option value="RP">Rheinland-Pfalz</option>
                                <option value="SL">Saarland</option>
                                <option value="SN">Sachsen</option>
                                <option value="ST">Sachsen-Anhalt</option>
                                <option value="SH">Schleswig-Holstein</option>
                                <option value="TH">Th√ºringen</option>
                            </select>
                        </label>
                        <label>Baujahr
                            <input type="number" id="houseAge" placeholder="z.B. 1995">
                        </label>
                    </div>
                </div>
                <div class="actions">
                    <button id="calcBtn" class="primary">Berechnen</button>
                    <button id="resetBtn" type="button">Zur√ºcksetzen</button>
                </div>
            </section>

            <div id="pdf-wrapper">
            <div class="content-card">
                <div id="results"></div>
                <button id="exportPdfBtn" class="export-btn" style="display:none;">üìÑ Ergebnis als PDF herunterladen</button>
            </div>

            <div class="content-card">
                <div id="scenario-switch" class="scenario-switch hidden">
                  <span>Diagramm anzeigen f√ºr:</span>
                  <button data-scenario="0" class="scenario-btn active">Nur PV</button>
                  <button data-scenario="1" class="scenario-btn">PV + Speicher</button>
                  <button data-scenario="2" class="scenario-btn">PV + Speicher + WP</button>
                </div>

                <div class="chart-container">
                    <div class="chart-area">
                        <canvas id="yearChart"></canvas>
                        <div id="day-toggle" class="day-toggle hidden">
                          <button data-season="summer" class="day-btn active">Sommer</button>
                          <button data-season="winter" class="day-btn">Winter</button>
                        </div>
                        <canvas id="dayChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="subsidyBox" class="subsidy-box content-card" style="display:none;">
                <h3>F√∂rderprogramme (unverbindlicher Hinweis)</h3>
                <p class="note">
                    Die angezeigten F√∂rderprogramme sind beispielhafte Hinweise. Links f√ºhren zu offiziellen F√∂rderportalen (Foerderdatenbank.de, Energiewechsel.de, co2online), da viele Programme keine direkten, stabilen Webseiten besitzen.
                </p>
                <div id="subsidyContent"></div>
            </div>
            </div>
        </main>
        <footer class="site-footer">
            <div class="footer-links">
                <a href="impressum.html">Impressum</a>
                <a href="datenschutz.html">Datenschutz</a>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="scripts/script.js"></script>
</body>
</html>
