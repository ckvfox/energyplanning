<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kostenloser Online-Rechner f√ºr energetische Modernisierung: PV-Dimensionierung, Speicher, W√§rmepumpe, Break-even-Analyse und F√∂rderberatung.">
    <meta name="keywords" content="Photovoltaik, Energiespeicher, W√§rmepumpe, Modernisierung, Kosten, F√∂rderung, Beratung">
    <meta name="theme-color" content="#007bff">
    <meta property="og:title" content="Energetische Modernisierung ‚Äì Kostenkalkulation">
    <meta property="og:description" content="Berechnen Sie Ihre Investitionskosten und Amortisation f√ºr PV, Speicher und W√§rmepumpe.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="images/logo.png">
    <title>Energetische Modernisierung ‚Äì Rechner & Kostenanalyse</title>
    <link rel="stylesheet" href="style.css">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Energetische Modernisierung Rechner",
      "description": "Kostenloser Kalkulator f√ºr PV, Speicher, W√§rmepumpen und F√∂rderberatung",
      "applicationCategory": "UtilityApplication",
      "url": "https://example.com",
      "author": {
        "@type": "Organization",
        "name": "energyplanning"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR"
      }
    }
    </script>
</head>
<body>
    <div class="page">
        <header class="hero">
            <div class="intro">
                <div class="intro-title">
                    <img src="images/logo.png" class="intro-logo" alt="Logo">
                    <h1>Energie- & Modernisierungsrechner</h1>
                </div>
                <p>Erhalte eine fundierte Einsch√§tzung f√ºr Photovoltaik, Stromspeicher und W√§rmepumpe ‚Äì inklusive Autarkie, CO‚ÇÇ-Einsparung, Kosten, Amortisation und F√∂rderm√∂glichkeiten.</p>
                <p>Eine energetische Modernisierung ist heute wichtiger denn je. Sie hilft nicht nur, Energieverbrauch und Kosten zu reduzieren, sondern erh√∂ht auch deine Unabh√§ngigkeit von schwankenden Energiepreisen. Moderne Technologien wie Photovoltaik, Speicher und W√§rmepumpen k√∂nnen den Bedarf eines Hauses deutlich senken ‚Äî oft um mehr als die H√§lfte.</p>
                <p>Gleichzeitig leistest du einen aktiven Beitrag zum Klimaschutz: Jede Kilowattstunde, die nicht aus fossilen Quellen stammt, spart CO‚ÇÇ und macht dich langfristig energieautarker.</p>
                <p>Unser Rechner liefert dir eine erste, unverbindliche Einsch√§tzung, basierend auf deinem Geb√§ude und deinen Pl√§nen ‚Äî verst√§ndlich aufbereitet und individuell f√ºr dein Zuhause.</p>
            </div>
        </header>

        <main>
            <section class="form-card" role="region" aria-labelledby="inputHeading">
                <h2 id="inputHeading">Eingabedaten</h2>
                <form id="energyForm">
                    <fieldset>
                        <legend class="visually-hidden">Grundeinstellungen f√ºr die Energieberechnung</legend>
                        <div class="form-grid">
                            <div>
                                <label for="houseType">Haustyp</label>
                                <select id="houseType" name="houseType" required aria-required="true">
                                    <option value="reihenhaus">Reihenhaus</option>
                                    <option value="doppelhaus">Doppelhaus</option>
                                    <option value="einfamilienhaus">Einfamilienhaus freistehend</option>
                                </select>
                            </div>
                            <div>
                                <label for="area">Wohnfl√§che (m¬≤)</label>
                                <select id="area" name="area" required aria-required="true">
                                    <option value="100">100</option>
                                    <option value="110">110</option>
                                    <option value="120">120</option>
                                    <option value="130">130</option>
                                    <option value="140">140</option>
                                    <option value="150">150</option>
                                    <option value="160">160</option>
                                    <option value="170">170</option>
                                    <option value="180">180</option>
                                    <option value="190">190</option>
                                    <option value="200">200</option>
                                </select>
                            </div>
                            <div>
                                <label for="people">Personen im Haushalt</label>
                                <select id="people" name="people" required aria-required="true">
                                    <option value="1">1</option>
                                    <option value="2" selected>2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                </select>
                            </div>
                            <div>
                                <label for="insulation">Isolierung</label>
                                <select id="insulation" name="insulation" required aria-required="true">
                                    <option value="gut">gut ‚Äì Neubau / gut saniert</option>
                                    <option value="normal" selected>normal ‚Äì typisch 80er‚Äì2000er</option>
                                    <option value="schlecht">schlecht ‚Äì 60er/70er unsaniert</option>
                                </select>
                            </div>
                            <div>
                                <label for="floorHeating">Fu√übodenheizung</label>
                                <select id="floorHeating" name="floorHeating" required aria-required="true">
                                    <option value="Nein" selected>Nein</option>
                                    <option value="Ja">Ja</option>
                                </select>
                            </div>
                            <div>
                                <label for="aircon">Klimaanlage geplant</label>
                                <select id="aircon" name="aircon" required aria-required="true">
                                    <option value="Nein" selected>Nein</option>
                                    <option value="Ja">Ja</option>
                                </select>
                            </div>
                            <div>
                                <label for="wallbox">Wallbox geplant</label>
                                <select id="wallbox" name="wallbox" required aria-required="true">
                                    <option value="Nein" selected>Nein</option>
                                    <option value="Ja">Ja</option>
                                </select>
                            </div>
                        </div>
                    </fieldset>
                    
                    <fieldset>
                        <legend>Angaben optional zur Ermittlung von F√∂rderprogrammen</legend>
                        <div class="form-grid">
                            <div>
                                <label for="bundesland">Bundesland</label>
                                <select id="bundesland" name="bundesland">
                                    <option value="">bitte w√§hlen</option>
                                    <option value="BW">Baden-W√ºrttemberg</option>
                                    <option value="BY">Bayern</option>
                                    <option value="BE">Berlin</option>
                                    <option value="BB">Brandenburg</option>
                                    <option value="HB">Bremen</option>
                                    <option value="HH">Hamburg</option>
                                    <option value="HE">Hessen</option>
                                    <option value="MV">Mecklenburg-Vorpommern</option>
                                    <option value="NI">Niedersachsen</option>
                                    <option value="NW">Nordrhein-Westfalen</option>
                                    <option value="RP">Rheinland-Pfalz</option>
                                    <option value="SL">Saarland</option>
                                    <option value="SN">Sachsen</option>
                                    <option value="ST">Sachsen-Anhalt</option>
                                    <option value="SH">Schleswig-Holstein</option>
                                    <option value="TH">Th√ºringen</option>
                                </select>
                            </div>
                            <div>
                                <label for="houseAge">Baujahr</label>
                                <input type="number" id="houseAge" name="houseAge" placeholder="z.B. 1995" disabled>
                            </div>
                        </div>
                    </fieldset>

                    <div class="actions" role="group" aria-label="Formularsteuerelemente">
                        <button id="calcBtn" type="submit" class="primary">Berechnen</button>
                        <button id="resetBtn" type="reset">Zur√ºcksetzen</button>
                    </div>
                </form>
            </section>

            <div id="pdf-wrapper">
            <div class="content-card" role="region" aria-labelledby="resultsHeading" aria-live="polite" aria-atomic="false">
                <h2 id="resultsHeading" class="visually-hidden">Berechnungsergebnisse</h2>
                <div id="results" role="main"></div>
                <button id="exportPdfBtn" class="export-btn">üìÑ Ergebnis als PDF herunterladen</button>
            </div>

            <div class="content-card">
                <div id="scenario-switch" class="scenario-switch hidden" role="group" aria-label="Szenarioauswahl f√ºr Diagrammdarstellung">
                  <span id="scenarioLabel">Diagramm anzeigen f√ºr:</span>
                  <div class="scenario-buttons" role="tablist" aria-labelledby="scenarioLabel">
                      <button data-scenario="0" class="scenario-btn active" role="tab" aria-selected="true">Nur PV</button>
                      <button data-scenario="1" class="scenario-btn" role="tab" aria-selected="false">PV + Speicher</button>
                      <button data-scenario="2" class="scenario-btn" role="tab" aria-selected="false">PV + Speicher + WP</button>
                  </div>
                </div>

                <div class="chart-container">
                    <div class="chart-area">
                        <canvas id="yearChart" role="img" aria-label="J√§hrliche Energiebilanz mit PV-Erzeugung, Verbrauch, Eigenverbrauch und Netzbezug"></canvas>
                        <div id="day-toggle" class="day-toggle hidden" role="group" aria-label="Jahreszeit f√ºr Tagesansicht">
                          <button data-season="summer" class="day-btn active" aria-pressed="true">Sommer</button>
                          <button data-season="winter" class="day-btn" aria-pressed="false">Winter</button>
                        </div>
                        <canvas id="dayChart" role="img" aria-label="T√§gliche Energiebilanz mit st√ºndlichen Werten"></canvas>
                    </div>
                </div>
            </div>

            <div id="subsidyBox" class="subsidy-box content-card">
                <h3>F√∂rderprogramme (unverbindlicher Hinweis)</h3>
                <p class="note">
                    Die angezeigten F√∂rderprogramme sind beispielhafte Hinweise. Links f√ºhren zu offiziellen F√∂rderportalen (Foerderdatenbank.de, Energiewechsel.de, co2online), da viele Programme keine direkten, stabilen Webseiten besitzen.
                </p>
                <div id="subsidyContent"></div>
            </div>
            </div>
        </main>
        <footer class="site-footer">
            <div class="footer-links">
                <a href="impressum.html">Impressum</a>
                <a href="datenschutz.html">Datenschutz</a>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="scripts/performance.js"></script>
    <script src="scripts/tests.js"></script>
    <script src="scripts/script.js"></script>
</body>
</html>
